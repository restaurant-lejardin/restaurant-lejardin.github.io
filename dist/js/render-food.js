document.addEventListener("DOMContentLoaded",()=>{let a=document.getElementById("food-container");if(a){let l=a.getAttribute("data-json");if(l){let o="data/drinks-data.json"===l;fetch(l).then(e=>e.json()).then(e=>{e.categories.forEach(t=>{if(t.specialTitle){let e=document.createElement("hr");e.classList.add("food-horizontal-separation"),a.appendChild(e);var d=document.createElement("h2");d.classList.add("special-title-3"),d.textContent=t.specialTitle,a.appendChild(d)}let i=document.createElement("div");i.classList.add("food-category"),i.id=t.id;var d=document.createElement("h2");d.classList.add("banner"),d.textContent=t.title,i.appendChild(d),t.description&&((d=document.createElement("p")).classList.add("category-description"),d.innerHTML=t.description,i.appendChild(d));let e=document.createElement("hr");e.classList.add("food-horizontal-rule"),i.appendChild(e),t.items.forEach(e=>{e.showHr&&((t=document.createElement("hr")).classList.add("food-horizontal-rule"),i.appendChild(t)),e.specialTitle&&((t=document.createElement("h3")).classList.add("special-title-4"),t.textContent=e.specialTitle,i.appendChild(t));var t=document.createElement("div"),d=(t.classList.add("row","align-items-center","menu-item"),"data/formules-data.json"===l&&e["ou-highlight"]?((a=document.createElement("div")).classList.add("col-md-2","menu-OU-text"),a.innerHTML="<u>OU</u>",t.appendChild(a)):o||((a=document.createElement("div")).classList.add("col-md-2","food-image"),e.image&&((d=document.createElement("img")).classList.add("rounded-circle","lazyload"),d.setAttribute("data-src",e.image),a.appendChild(d)),t.appendChild(a)),document.createElement("div")),a=(d.classList.add("col-md-1","vegan-indicator","text-right"),d.style.flex="0 0 auto",e.veganType&&((a=document.createElement("img")).classList.add("vegan-logo"),a.src="vege"===e.veganType?"media/vg.png":"media/vg_pos.png",a.alt="vege"===e.veganType?"Végétarien":"Végétarien Possible",d.appendChild(a)),t.appendChild(d),document.createElement("div")),d=(a.classList.add(o?"col-md-12":"col-md-9"),document.createElement("h3")),n="data/formules-data.json"===l?"formule-title":"food-title";d.classList.add(n),d.innerHTML=`
              <span class="food-name">${e.name}</span>
              ${e.price?`<span class="food-price">${e.price}€</span>`:""}
            `,a.appendChild(d),e.description&&((n=document.createElement("p")).classList.add("food-ingredients"),n.innerHTML=e.description,a.appendChild(n)),t.appendChild(a),i.appendChild(t)}),a.appendChild(i)})}).catch(e=>console.error("Error loading food data:",e))}else console.error("Error: data-json attribute not set on #food-container.")}else console.error("Error: #food-container element not found.")});